<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Journaling Pagi & Malam</title>
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Bootstrap Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
  <script type="module" src="js/firebase-config.js"></script>
  <script type="module" src="js/journal.js"></script>

  <style>
    :root { --card-gap: 1rem; }
    body { background: #f6f7fb; }
    .container-narrow { max-width: 980px; }
    .brand { letter-spacing: .3px; }
    .sticky-actions { position: sticky; top: 0; z-index: 1030; backdrop-filter: blur(6px); }
    .required::after { content: "*"; color: #dc3545; margin-left: .25rem; }
    .gratitude-list .form-control { margin-bottom: .5rem; }
    .small-muted { font-size: .9rem; color: #6c757d; }
    .card { border: 0; box-shadow: 0 6px 24px rgba(16,24,40,.06); border-radius: 1rem; }
    .section-title { font-size: 1.1rem; font-weight: 600; color: #0f172a; }
  </style>
</head>

<body>
  <!-- Header -->
  <header class="sticky-actions py-3 border-bottom bg-white">
    <button id="btnLogout" class="btn btn-sm btn-outline-danger ms-2"><i class="bi bi-box-arrow-right"></i> Logout</button>
    <div class="container container-narrow d-flex flex-wrap align-items-center gap-2">
      <a class="text-decoration-none text-dark brand d-flex align-items-center gap-2" href="#">
        <i class="bi bi-journal-check fs-3 text-primary"></i>
        <span class="fw-bold">Journaling Pagi & Malam</span>
      </a>
      <div class="ms-auto d-flex align-items-center gap-2">
        <input type="date" id="entryDate" class="form-control form-control-sm" aria-label="Tanggal">
        <button class="btn btn-sm btn-outline-secondary" id="btnPrev" title="Hari sebelumnya"><i class="bi bi-chevron-left"></i></button>
        <button class="btn btn-sm btn-outline-secondary" id="btnNext" title="Hari berikutnya"><i class="bi bi-chevron-right"></i></button>
        <button class="btn btn-sm btn-outline-primary" id="btnToday" title="Ke hari ini"><i class="bi bi-calendar2-day"></i> Hari ini</button>
        <div class="vr mx-1"></div>
        <button class="btn btn-sm btn-success" id="btnSave"><i class="bi bi-save"></i> Simpan</button>
        <button class="btn btn-sm btn-outline-danger" id="btnClear"><i class="bi bi-eraser"></i> Kosongkan</button>
        <div class="dropdown">
          <button class="btn btn-sm btn-outline-dark dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
            <i class="bi bi-gear"></i> Lainnya
          </button>
          <ul class="dropdown-menu dropdown-menu-end">
            <li><a class="dropdown-item" href="#" id="btnExport"><i class="bi bi-download me-2"></i>Ekspor JSON</a></li>
            <li>
              <label class="dropdown-item mb-0" style="cursor: pointer;">
                <i class="bi bi-upload me-2"></i>Impor JSON
                <input type="file" id="fileImport" accept="application/json" hidden>
              </label>
            </li>
            <li><a class="dropdown-item" href="#" id="btnPrint"><i class="bi bi-printer me-2"></i>Cetak/Save PDF</a></li>
            <li><hr class="dropdown-divider"></li>
            <li><a class="dropdown-item" href="#" id="btnResetAll"><i class="bi bi-trash3 me-2"></i>Hapus Semua Data</a></li>
          </ul>
        </div>
      </div>
    </div>
  </header>

  <main class="py-4">
    <div class="container container-narrow">
      <!-- Info / Streak -->
      <div class="row g-3 mb-3">
        <div class="col-12">
          <div class="alert alert-light border d-flex align-items-center" role="alert">
            <i class="bi bi-info-circle me-2"></i>
            <div>
              <div class="small-muted">Streak menulis: <span id="streakDays" class="fw-semibold">0</span> hari beruntun.</div>
            </div>
          </div>
        </div>
      </div>

      <div class="row g-3">
        <!-- Pagi -->
        <div class="col-12">
          <div class="card">
            <div class="card-body">
              <div class="d-flex justify-content-between align-items-center mb-2">
                <h2 class="h5 mb-0">ðŸŒ… Pagi â€“ Niat & Fokus Harian</h2>
                <span class="badge text-bg-primary">Pagi</span>
              </div>
              <div class="row g-3">
                <div class="col-md-6">
                  <label class="form-label required">Perasaan Saat Bangun</label>
                  <input type="text" id="morningMood" class="form-control" placeholder="contoh: tenang, bersemangat, cemas" />
                </div>
                <div class="col-md-6">
                  <label class="form-label required">Tujuan Utama Hari Ini</label>
                  <input type="text" id="mainGoal" class="form-control" placeholder="fokus utama hari ini" />
                </div>
                <div class="col-12">
                  <label class="form-label">Hal yang Disyukuri (3 hal)</label>
                  <div class="gratitude-list">
                    <input type="text" id="g1" class="form-control" placeholder="Hal disyukuri #1" />
                    <input type="text" id="g2" class="form-control" placeholder="Hal disyukuri #2" />
                    <input type="text" id="g3" class="form-control" placeholder="Hal disyukuri #3" />
                  </div>
                </div>
                <div class="col-12">
                  <label class="form-label">Afirmasi Pagi</label>
                  <input type="text" id="affirmation" class="form-control" placeholder="\"Saya mampuâ€¦\" atau kalimat penyemangat lain" />
                </div>
                <div class="col-12">
                  <label class="form-label">Rencana Singkat Hari Ini</label>
                  <textarea id="dayPlan" class="form-control" rows="3" placeholder="3â€“5 poin kegiatan utama"></textarea>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Malam -->
        <div class="col-12">
          <div class="card">
            <div class="card-body">
              <div class="d-flex justify-content-between align-items-center mb-2">
                <h2 class="h5 mb-0">ðŸŒ™ Malam â€“ Refleksi & Evaluasi</h2>
                <span class="badge text-bg-dark">Malam</span>
              </div>
              <div class="row g-3">
                <div class="col-md-6">
                  <label class="form-label">Perasaan Saat Menulis</label>
                  <input type="text" id="nightMood" class="form-control" placeholder="contoh: lega, puas, lelah" />
                </div>
                <div class="col-md-6">
                  <label class="form-label">Peristiwa Penting Hari Ini</label>
                  <input type="text" id="keyEvents" class="form-control" placeholder="highlight hari ini" />
                </div>
                <div class="col-12">
                  <label class="form-label">Pelajaran Hari Ini</label>
                  <textarea id="lesson" class="form-control" rows="2" placeholder="apa yang kamu pelajari?"></textarea>
                </div>
                <div class="col-12">
                  <label class="form-label">Hal yang Disyukuri Malam Ini (3 hal)</label>
                  <div class="gratitude-list">
                    <input type="text" id="ng1" class="form-control" placeholder="Hal disyukuri #1" />
                    <input type="text" id="ng2" class="form-control" placeholder="Hal disyukuri #2" />
                    <input type="text" id="ng3" class="form-control" placeholder="Hal disyukuri #3" />
                  </div>
                </div>
                <div class="col-12">
                  <label class="form-label">Catatan Bebas / Ide</label>
                  <textarea id="notes" class="form-control" rows="3" placeholder="tuliskan apa pun yang ingin dicatat"></textarea>
                </div>
                <div class="col-12">
                  <label class="form-label">Rencana Esok Hari</label>
                  <textarea id="tomorrow" class="form-control" rows="2" placeholder="1â€“3 fokus utama esok"></textarea>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Footer Tips -->
      <div class="mt-4 text-center small text-muted">
        <i class="bi bi-shield-lock"></i> Data disimpan di perangkat ini. Gunakan Ekspor untuk cadangan.
      </div>
    </div>
  </main>
</body>
</html>
